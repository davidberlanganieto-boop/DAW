<?php
//EJERCICIO 1 - Crea una función que obtenga el número máximo de un array de números.


//encontrar numero maximo
function encontrarMaximo($numeros1){
    return max($numeros1);
}

$array1 = [1,26,43,13,68,23];
$numeroMasGrande = encontrarMaximo($array1);
echo "Ejercicio 1: El numero mas grande es: " . $numeroMasGrande . " " . "\n";


//EJERCICIO 2 - SUMATORIA DE ARRAY DE NUMEROS

function sumatoria($numeros2){
    return  array_sum($numeros2);
}
$resultadoSumatoria = sumatoria($array1);
echo "Ejercicio 2: La sumatoria es: " . $resultadoSumatoria . " " . "\n";


//EJERCICIO 3 - . Conversión de millas a kilómetros
 function conversion($millas){
     $factorConversion = 1.60934;
     $kilometros = $factorConversion * $millas;
     return $kilometros;
 }
$distanciaConversion = 50;

 $resultadoConversion = conversion($distanciaConversion);

 echo "Ejercicio 3: La distancia es: " . $resultadoConversion .  "km" . " " . "\n";


 //EJERCICIO 4 - PALINDROMO

function esPalindromo(string $palabra):bool  {
    $palabraInvertida = strrev($palabra);
    return $palabraInvertida === $palabra;
}
//Ejemplos
$p1 = "ana";
$p2 = "coche";
$p3 = "maria";
$p4 = "oso";

echo "EJERCICIO 4: COMPROBACION DE PALINDROMOS.\n";
echo "1. \"$p1\": " . (esPalindromo($p1) ? "SÍ" : "NO") . " es palíndromo.\n";
echo "2. \"$p2\": " . (esPalindromo($p2) ? "SÍ" : "NO") . " es palíndromo.\n";
echo "3. \"$p3\": " . (esPalindromo($p3) ? "SÍ" : "NO") . " es palíndromo.\n";
echo "4. \"$p4\": " . (esPalindromo($p4) ? "SÍ" : "NO") . " es palíndromo.\n";

//EJERCICIO 5: CONTAR OCURRENCIAS DE UNA LETRA

echo "EJERCICIO 5: CONTAR OCURRENCIAS DE UNA LETRA". "\n";

function contarOcurrencias(string $texto, string $letra): int {
    $textoMinusculas = strtolower($texto);
    $letraMinusculas = strtolower($letra);

    $contador = substr_count($textoMinusculas, $letraMinusculas);
    return $contador;
}
//-- Ejemplo de uso
$textoEjemplo = "Soy estudiante de segundo de desarrollo de aplicaciones web en EAG, Granada";
$letraABuscar = "a";

$conteo = contarOcurrencias($textoEjemplo, $letraABuscar);
echo "1. La letra '$letraABuscar' aparece $conteo veces en el texto.\n";

// EJERCICIO 2O CALCULAR FACTORIAL
function calcularFactorial($numero){
    if ($numero === 0){
        return  1;
    }
    $factorial = 1;
    for ($i = 1; $i <= $numero; $i++){
        $factorial = $factorial * $i;
    }
    return $factorial;
}

echo "EJERCICIO 20: " . "\n";
$numeroPrueba = 6;
$factorialCalculado = calcularFactorial($numeroPrueba);
echo "El factorial de $numeroPrueba es: " . $factorialCalculado . "\n";

//EJERCICIO 21 INVERTIR CADENA
function invertirCadena($texto){
    $cadenaInvertida = strrev($texto);
    return $cadenaInvertida;
}
echo "EJERCICIO 21: " . "\n";
$textoEjemplo = "cocodrilo";
$invertida = invertirCadena($textoEjemplo);
echo "LA palabra es $textoEjemplo e invertida quedaria asi: $invertida\n";

//EJERCICIO 22 NUMERO PERFECTO
function esNumeroPerfecto(int $numero):bool {
    $sumaDivisores = 0;
    for ($i = 1; $i < $numero; $i++){
        if ($numero % $i === 0){
            $sumaDivisores += $i;
        }
    }
    return $sumaDivisores === $numero;
}
echo "EJERCICIO 22: " . "\n";
$n1 = 6;
$n2 = 8;
$numeroPerfecto1 = esNumeroPerfecto($n1);
$numeroPerfecto2 = esNumeroPerfecto($n2);
echo "El número $n1 es perfecto?: " . ($numeroPerfecto1 ? "SI" : "NO") . "\n";
echo "El número $n2 es perfecto?: " . ($numeroPerfecto2 ? "SI" : "NO") . "\n";

// EJERCICIO 23 NUMERO AMSTRONG

function esNumeroArmstrong (int $numero): bool {

    $numeroOriginal = $numero;
    $cadenaNumero = strval($numero);
    $potencia = strlen($cadenaNumero);
    $sumaPotencias = 0;
    $arrayDigitos = str_split($cadenaNumero);

    foreach ($arrayDigitos as $digito) {
        $sumaPotencias += $digito ** $potencia;
    }

    return $sumaPotencias === $numeroOriginal;
}

echo "EJERCICIO 23:\n";

$numero1 = 153;
$resultado1 = esNumeroArmstrong($numero1);
echo "1. El número $numero1 es Armstrong?: " . ($resultado1 ? "SI" : "NO") . "\n";
$numero2 = 210;
$resultado2 = esNumeroArmstrong($numero2);
echo "2. El número $numero2 es Armstrong?: " . ($resultado2 ? "SI" : "NO") . "\n";
